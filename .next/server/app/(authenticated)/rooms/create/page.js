(()=>{var e={};e.id=333,e.ids=[333],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},5671:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var o=t(260),s=t(8203),a=t(5155),n=t.n(a),i=t(7292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d=["",{children:["(authenticated)",{children:["rooms",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8998)),"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/rooms/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1395)),"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1354)),"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/rooms/create/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(authenticated)/rooms/create/page",pathname:"/rooms/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9055:(e,r,t)=>{Promise.resolve().then(t.bind(t,8998))},7303:(e,r,t)=>{Promise.resolve().then(t.bind(t,2346))},2346:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var o=t(5512),s=t(1914),a=t(6868),n=t(6131),i=t(9334),l=t(9400),d=t(2373),c=t(7722),m=t(5002),p=t(4716),u=t(9230),f=t(4590);let h=n.Ik({name:n.Yj().min(2,{message:"Room name must be at least 2 characters."}),description:n.Yj().min(10,{message:"Description must be at least 10 characters."}),maxPlayers:n.au.number().min(2,{message:"Must have at least 2 players"}).max(10,{message:"Cannot have more than 10 players"}),script:n.Yj().min(20,{message:"Script must be at least 20 characters."})});function x(){let e=(0,i.useRouter)(),{toast:r}=(0,p.dj)(),t=(0,a.mN)({resolver:(0,s.u)(h),defaultValues:{name:"",description:"",maxPlayers:5,script:""}});async function n(t){try{let o=await u.w.create(t);r({title:"Success",description:"Room created successfully!"}),e.push(`/rooms/${o.id}`)}catch{r({variant:"destructive",title:"Error",description:"Failed to create room. Please try again."})}}return(0,o.jsx)("div",{className:"container mx-auto py-10",children:(0,o.jsxs)(f.Zp,{children:[(0,o.jsx)(f.aR,{children:(0,o.jsx)(f.ZB,{children:"Create Room"})}),(0,o.jsx)(f.Wu,{children:(0,o.jsx)(d.lV,{...t,children:(0,o.jsxs)("form",{onSubmit:t.handleSubmit(n),className:"space-y-6",children:[(0,o.jsx)(d.zB,{control:t.control,name:"name",render:({field:e})=>(0,o.jsxs)(d.eI,{children:[(0,o.jsx)(d.lR,{children:"Room Name"}),(0,o.jsx)(d.MJ,{children:(0,o.jsx)(c.p,{placeholder:"Enter room name",...e})}),(0,o.jsx)(d.C5,{})]})}),(0,o.jsx)(d.zB,{control:t.control,name:"description",render:({field:e})=>(0,o.jsxs)(d.eI,{children:[(0,o.jsx)(d.lR,{children:"Description"}),(0,o.jsx)(d.MJ,{children:(0,o.jsx)(m.T,{placeholder:"Enter room description",className:"resize-none",...e})}),(0,o.jsx)(d.C5,{})]})}),(0,o.jsx)(d.zB,{control:t.control,name:"maxPlayers",render:({field:e})=>(0,o.jsxs)(d.eI,{children:[(0,o.jsx)(d.lR,{children:"Maximum Players"}),(0,o.jsx)(d.MJ,{children:(0,o.jsx)(c.p,{type:"number",min:2,max:10,placeholder:"Enter maximum number of players",...e})}),(0,o.jsx)(d.C5,{})]})}),(0,o.jsx)(d.zB,{control:t.control,name:"script",render:({field:e})=>(0,o.jsxs)(d.eI,{children:[(0,o.jsx)(d.lR,{children:"Script"}),(0,o.jsx)(d.MJ,{children:(0,o.jsx)(m.T,{placeholder:"Enter your script content here...",className:"min-h-[200px]",...e})}),(0,o.jsx)(d.C5,{})]})}),(0,o.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,o.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>e.back(),children:"Cancel"}),(0,o.jsx)(l.$,{type:"submit",children:"Create Room"})]})]})})})]})})}},4590:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>i});var o=t(5512),s=t(8009),a=t(4195);let n=s.forwardRef(({className:e,...r},t)=>(0,o.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let i=s.forwardRef(({className:e,...r},t)=>(0,o.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},t)=>(0,o.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...r},t)=>(0,o.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>(0,o.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",s.forwardRef(({className:e,...r},t)=>(0,o.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},2373:(e,r,t)=>{"use strict";t.d(r,{lV:()=>m,MJ:()=>g,zB:()=>u,eI:()=>x,lR:()=>j,C5:()=>b});var o=t(5512),s=t(8009),a=t(2705),n=t(6868),i=t(4195),l=t(2405);let d=(0,t(1643).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...r},t)=>(0,o.jsx)(l.b,{ref:t,className:(0,i.cn)(d(),e),...r}));c.displayName=l.b.displayName;let m=n.Op,p=s.createContext({}),u=({...e})=>(0,o.jsx)(p.Provider,{value:{name:e.name},children:(0,o.jsx)(n.xI,{...e})}),f=()=>{let e=s.useContext(p),r=s.useContext(h),{getFieldState:t,formState:o}=(0,n.xW)(),a=t(e.name,o);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},h=s.createContext({}),x=s.forwardRef(({className:e,...r},t)=>{let a=s.useId();return(0,o.jsx)(h.Provider,{value:{id:a},children:(0,o.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",e),...r})})});x.displayName="FormItem";let j=s.forwardRef(({className:e,...r},t)=>{let{error:s,formItemId:a}=f();return(0,o.jsx)(c,{ref:t,className:(0,i.cn)(s&&"text-destructive",e),htmlFor:a,...r})});j.displayName="FormLabel";let g=s.forwardRef(({...e},r)=>{let{error:t,formItemId:s,formDescriptionId:n,formMessageId:i}=f();return(0,o.jsx)(a.DX,{ref:r,id:s,"aria-describedby":t?`${n} ${i}`:`${n}`,"aria-invalid":!!t,...e})});g.displayName="FormControl",s.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:s}=f();return(0,o.jsx)("p",{ref:t,id:s,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",e),...r})}).displayName="FormDescription";let b=s.forwardRef(({className:e,children:r,...t},s)=>{let{error:a,formMessageId:n}=f(),l=a?String(a?.message):r;return l?(0,o.jsx)("p",{ref:s,id:n,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",e),...t,children:l}):null});b.displayName="FormMessage"},7722:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var o=t(5512),s=t(8009),a=t(4195);let n=s.forwardRef(({className:e,type:r,...t},s)=>(0,o.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));n.displayName="Input"},5002:(e,r,t)=>{"use strict";t.d(r,{T:()=>n});var o=t(5512),s=t(8009),a=t(4195);let n=s.forwardRef(({className:e,...r},t)=>(0,o.jsx)("textarea",{className:(0,a.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));n.displayName="Textarea"},9230:(e,r,t)=>{"use strict";t.d(r,{w:()=>s});let o="http://13.210.70.201:3000",s={async findAll(){let e=localStorage.getItem("token"),r=await fetch(`${o}/rooms`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw Error("Failed to fetch rooms");return r.json()},async findOne(e){let r=localStorage.getItem("token"),t=await fetch(`${o}/rooms/${e}`,{headers:{Authorization:`Bearer ${r}`}});if(!t.ok)throw Error("Failed to fetch room");return t.json()},async join(e){let r=localStorage.getItem("token");if(!(await fetch(`${o}/rooms/${e}/join`,{method:"POST",headers:{Authorization:`Bearer ${r}`}})).ok)throw Error("Failed to join room")},async leave(e){let r=localStorage.getItem("token");if(!(await fetch(`${o}/rooms/${e}/leave`,{method:"POST",headers:{Authorization:`Bearer ${r}`}})).ok)throw Error("Failed to leave room")},async create(e){let r=localStorage.getItem("token"),t=await fetch(`${o}/rooms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create room");return t.json()},async startGame(e){let r=localStorage.getItem("token"),t=await fetch(`${o}/rooms/${e}/start`,{method:"POST",headers:{Authorization:`Bearer ${r}`}});if(!t.ok)throw Error("Failed to start game");return t.json()},async selectCharacter(e,r){let t=localStorage.getItem("token"),s=await fetch(`${o}/rooms/${e}/select-character`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({characterId:r})});if(!s.ok)throw Error("Failed to select character");return s.json()}}},8998:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});let o=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/rooms/create/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/rooms/create/page.tsx","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,22,77,581,310,541],()=>t(5671));module.exports=o})();