(()=>{var e={};e.id=842,e.ids=[842],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},8285:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=t(260),a=t(8203),i=t(5155),n=t.n(i),o=t(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["(authenticated)",{children:["scripts",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2277)),"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/scripts/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1395)),"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1354)),"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/scripts/[id]/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(authenticated)/scripts/[id]/page",pathname:"/scripts/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8866:(e,s,t)=>{Promise.resolve().then(t.bind(t,2277))},2074:(e,s,t)=>{Promise.resolve().then(t.bind(t,2746))},325:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2746:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var r=t(5512),a=t(8009),i=t(9334),n=t(325),o=t(7659),l=t(4590),d=t(9400),c=t(7553),m=t(4269),p=t(4195);let u=c.bL,h=c.l9,x=c.ZL;c.bm;let f=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(c.hJ,{ref:t,className:(0,p.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));f.displayName=c.hJ.displayName;let j=a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(x,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(c.UC,{ref:a,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,r.jsxs)(c.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));j.displayName=c.UC.displayName;let g=({className:e,...s})=>(0,r.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});g.displayName="DialogHeader";let b=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(c.hE,{ref:t,className:(0,p.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));b.displayName=c.hE.displayName,a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(c.VY,{ref:t,className:(0,p.cn)("text-sm text-muted-foreground",e),...s})).displayName=c.VY.displayName;var y=t(7722),N=t(4716),v=t(9230);let C=[{title:"Basic Attributes",stats:["STR","CON","SIZ","DEX","POW"],bgColor:"bg-blue-50"},{title:"Knowledge Attributes",stats:["EDU","INT","LUCK"],bgColor:"bg-green-50"},{title:"Status Values",stats:["HP","MP","SAN"],bgColor:"bg-amber-50"}];function w({id:e}){let s=(0,i.useRouter)(),{toast:t}=(0,N.dj)(),[c]=(0,a.useState)(()=>{let s=o.j.find(s=>s.id===e);if(!s)throw Error(`Script with id ${e} not found`);return s}),[m,p]=(0,a.useState)(()=>c.players.recommended||4),[x,f]=(0,a.useState)(!1),[w,k]=(0,a.useMemo)(()=>{let e=c.players.range.split("-").map(Number);return[e[0]||2,Math.min(e[1]||10,10)]},[c.players.range]),R=async()=>{if(m<w||m>k){t({variant:"destructive",title:"Error",description:`Number of players must be between ${w}-${k}`});return}f(!0);try{let e=await v.w.create({name:`${c.title}`,description:c.summary,maxPlayers:m,script:JSON.stringify(c)});t({title:"Success",description:"Room created successfully! Redirecting to room..."}),s.push(`/rooms/${e.id}`)}catch(e){console.error("Create room error:",e),t({variant:"destructive",title:"Error",description:e instanceof Error?e.message:"Failed to create room, please try again later"})}finally{f(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto py-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)(d.$,{variant:"ghost",onClick:()=>s.push("/scripts"),children:[(0,r.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Back to Scripts"]}),(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(d.$,{children:"Start Game"})}),(0,r.jsxs)(j,{children:[(0,r.jsx)(g,{children:(0,r.jsx)(b,{children:"Create Game Room"})}),(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"text-sm font-medium",children:["Maximum Players (",w,"-",k,")"]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(y.p,{type:"number",min:w,max:k,value:m,onChange:e=>{p(Math.min(Math.max(Number(e.target.value),w),k))}}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Recommended: ",c.players.recommended," players"]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(d.$,{variant:"outline",children:"Cancel"})}),(0,r.jsx)(d.$,{onClick:R,disabled:x||m<w||m>k,children:x?"Creating...":"Confirm"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"Basic Information"})}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Title"}),(0,r.jsx)("p",{children:c.title})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Type"}),(0,r.jsx)("p",{children:c.type})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Difficulty"}),(0,r.jsx)("p",{children:c.difficulty})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Duration"}),(0,r.jsx)("p",{children:c.duration})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Recommended Players"}),(0,r.jsxs)("p",{children:[c.players.recommended," players (",c.players.range,")"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Setting"}),(0,r.jsxs)("p",{children:[c.setting.time,", ",c.setting.location]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Summary"}),(0,r.jsx)("p",{className:"text-gray-700",children:c.summary})]})]})]}),(0,r.jsxs)(l.Zp,{className:"hidden",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"Background"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Historical Background"}),(0,r.jsx)("p",{className:"text-gray-700",children:c.background.history})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Key Characters"}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:c.background.characters.map((e,s)=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{className:"text-md",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.profession})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Personality: "}),e.personality]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Motivation: "}),e.motivation]})]})]},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Important Locations"}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:c.background.locations.map((e,s)=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-md",children:e.name})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("p",{children:e.description})})]},s))})]})]})})]}),(0,r.jsxs)(l.Zp,{className:"hidden",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"Scenes"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:c.scenes.map((e,s)=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-md",children:e.name})}),(0,r.jsxs)(l.Wu,{className:"space-y-2",children:[e.start&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Opening: "}),e.start]}),e.objective&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Objective: "}),e.objective]}),e.clues&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:"Clues:"}),(0,r.jsx)("ul",{className:"list-disc list-inside pl-4",children:e.clues.map((e,s)=>(0,r.jsx)("li",{children:e},s))})]}),e.challenges&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:"Challenges:"}),e.challenges.map((e,s)=>(0,r.jsx)("div",{className:"pl-4",children:(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"font-semibold",children:[e.type,": "]}),e.description]})},s))]}),e.main_confrontation&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Main Conflict: "}),e.main_confrontation]}),e.outcomes&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:"Possible Outcomes:"}),(0,r.jsx)("ul",{className:"list-disc list-inside pl-4",children:e.outcomes.map((e,s)=>(0,r.jsx)("li",{children:e},s))})]})]})]},s))})})]}),(0,r.jsxs)(l.Zp,{className:"hidden",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"Character Suggestions"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:c.character_suggestions.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsx)("span",{children:e.skill}),(0,r.jsxs)("span",{className:"px-2 py-1 text-sm rounded-full bg-gray-100",children:["Importance: ",e.importance]})]},s))})})]}),(0,r.jsxs)(l.Zp,{className:"hidden",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"Appendix"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Maps"}),(0,r.jsx)("ul",{className:"list-disc list-inside pl-4",children:c.appendix.maps.map((e,s)=>(0,r.jsx)("li",{children:e},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"NPC Stats"}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:c.appendix.npc_stats.map((e,s)=>(0,r.jsxs)(l.Zp,{className:"overflow-hidden",children:[(0,r.jsx)(l.aR,{className:"pb-2 border-b",children:(0,r.jsxs)(l.ZB,{className:"text-xl flex items-center gap-2",children:[e.name,(0,r.jsx)("span",{className:"text-sm font-normal text-gray-500",children:c.background.characters.find(s=>s.name===e.name)?.profession})]})}),(0,r.jsx)(l.Wu,{className:"space-y-4 pt-4",children:C.map((s,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:s.title}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:s.stats.map(t=>(0,r.jsxs)("div",{className:`${s.bgColor} rounded-lg p-3 text-center transition-all hover:scale-105`,children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-gray-600",children:t}),(0,r.jsx)("div",{className:"text-xl font-medium mt-1",children:e.stats[t]})]},t))})]},t))})]},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Mythological Elements"}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:c.appendix.mythos_elements.map((e,s)=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-md",children:e.name})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("p",{children:e.description})})]},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Additional Clues"}),(0,r.jsx)("ul",{className:"list-disc list-inside pl-4",children:c.appendix.additional_clues.map((e,s)=>(0,r.jsx)("li",{children:e},s))})]})]})})]})]})]})}function k({params:e}){let s=(0,a.use)(e);return(0,r.jsx)(w,{id:s.id})}},4590:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o});var r=t(5512),a=t(8009),i=t(4195);let n=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let o=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},7722:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var r=t(5512),a=t(8009),i=t(4195);let n=a.forwardRef(({className:e,type:s,...t},a)=>(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));n.displayName="Input"},7659:(e,s,t)=>{"use strict";t.d(s,{j:()=>r});let r=[{id:"1",title:"跨年的詭異鐘聲",type:"短篇冒險",players:{recommended:4,range:"3-6"},duration:"4-5小時",setting:{time:"2024年12月31日",location:"一座偏僻的小鎮"},difficulty:"中等",summary:"跨年夜，玩家受邀參加一場神秘的倒數派對，然而午夜的鐘聲響起後，時間似乎陷入了停滯，而一股詭異的氣息籠罩整座小鎮。玩家必須揭開真相，阻止被封印的邪神從時間裂縫中復甦。",background:{history:"這座小鎮自古以來就流傳著一個詭異的傳說：每隔百年，跨年夜的鐘聲會喚醒沉睡於時光裂縫中的古老存在。",characters:[{name:"湯瑪斯\xb7布萊恩",profession:"鐘樓守護者",personality:"沉默寡言，但對鐘樓有著極度的執著",motivation:"保護鐘樓的秘密，不讓人接近鐘樓"},{name:"艾莉絲\xb7克羅斯",profession:"歷史學者",personality:"熱情，對傳說充滿興趣",motivation:"想破解鐘聲與傳說的關聯，寫成論文"}],locations:[{name:"中央鐘樓",description:"小鎮中心的高大鐘樓，鐘聲能傳遍整個小鎮，內部似乎隱藏著古老的機關。"},{name:"舊圖書館",description:"堆滿塵封書籍的小鎮圖書館，記載了許多與鐘樓相關的歷史。"}]},scenes:[{name:"第一幕：神秘的邀請",start:"玩家收到一封匿名邀請函，參加跨年派對。",objective:"前往小鎮並了解鐘樓的背景。"},{name:"第二幕：詭異的鐘聲",clues:["一份舊報紙提到過百年前鐘聲後的神秘失蹤事件。","鐘樓內部藏有古老的符文，似乎記錄了一種召喚儀式。"],challenges:[{type:"解謎",description:"解開鐘樓內機關的密碼鎖。"},{type:"戰鬥",description:"對抗由鐘聲喚醒的怪異存在。"}]},{name:"第三幕：時間裂縫",main_confrontation:"玩家發現鐘聲其實是封印的關鍵，但封印已經開始崩解。",outcomes:["成功阻止封印崩解，時間恢復正常，小鎮回歸平靜。","封印失敗，邪神復甦，小鎮被時間裂縫吞噬。"]}],character_suggestions:[{skill:"心理學",importance:"高"},{skill:"圖書館使用",importance:"高"},{skill:"神秘學",importance:"中"},{skill:"機械修理",importance:"中"}],appendix:{maps:["中央鐘樓的內部結構圖","小鎮的簡略地圖"],npc_stats:[{name:"湯瑪斯\xb7布萊恩",stats:{STR:65,CON:60,SIZ:55,DEX:50,POW:70,EDU:75,INT:65,SAN:40,LUCK:45,HP:12,MP:14}},{name:"艾莉絲\xb7克羅斯",stats:{STR:45,CON:50,SIZ:50,DEX:65,POW:75,EDU:85,INT:80,SAN:70,LUCK:60,HP:10,MP:15}}],mythos_elements:[{name:"時間裂縫",description:"由鐘聲引發的時空不穩定現象，與古老邪神的存在有關。"},{name:"裂縫生物",description:"由時間裂縫中出現的扭曲生物，攻擊一切接近裂縫的人。"}],additional_clues:["一枚鑰匙，能解開鐘樓內部的隱藏房間。","一本記載古老儀式的手抄本。"]}},{id:"2",title:"迷霧中的古堡",type:"短篇冒險",players:{recommended:5,range:"4-7"},duration:"5-6小時",setting:{time:"一個模糊的19世紀晚期冬季夜晚",location:"隱藏在深山中的一座神秘古堡"},difficulty:"困難",summary:"玩家被邀請到深山中的古堡參加一場神秘拍賣會，但隨著夜色加深，迷霧籠罩，古堡內部開始發生難以解釋的超自然事件。玩家必須解開古堡的秘密，並在失控的局勢中求生。",background:{history:"這座古堡在百年前由一位偏僻的貴族修建，但在某次拍賣會中，所有參與者神秘失蹤，古堡因此被廢棄，成為謠言的中心。",characters:[{name:"亨利\xb7拉斐特",profession:"拍賣官",personality:"狡猾且神秘，總是面帶假笑",motivation:"希望透過拍賣古堡中的秘密物品來賺取巨額財富"},{name:"維多利亞\xb7卡曼",profession:"收藏家",personality:"優雅且冷靜，擅長分析",motivation:"尋找傳說中的古物來完成自己的收藏"}],locations:[{name:"大廳",description:"裝飾華麗的寬大空間，用於舉辦拍賣，掛滿了神秘畫作與古董裝飾。"},{name:"地下室",description:"一個陰暗潮濕的地方，據說藏有古堡建造者的秘密。"}]},scenes:[{name:"第一幕：神秘的邀請",start:"玩家收到一封金邊邀請函，邀請他們參加古堡內的拍賣會。",objective:"抵達古堡並探索拍賣會的背景。"},{name:"第二幕：迷霧與謎團",clues:["一封破損的日記提到古堡內部曾舉行過神秘儀式。","一副破碎的畫框中似乎藏著某種線索。"],challenges:[{type:"解謎",description:"破解一個封鎖地下室入口的複雜機關。"},{type:"生存",description:"逃離古堡中被召喚出來的惡靈追擊。"}]},{name:"第三幕：古堡的秘密",main_confrontation:"玩家發現拍賣品之一是一件可以召喚遠古存在的詭異古物，隨著拍賣官的貪婪，儀式啟動。",outcomes:["成功阻止儀式，古堡恢復平靜，玩家安全逃出。","儀式完成，遠古存在降臨，玩家陷入無盡的恐怖之中。"]}],character_suggestions:[{skill:"隱匿",importance:"高"},{skill:"歷史",importance:"高"},{skill:"藝術/工藝",importance:"中"},{skill:"生存",importance:"中"}],appendix:{maps:["古堡內部平面圖","古堡周圍的山林路線圖"],npc_stats:[{name:"亨利\xb7拉斐特",stats:{STR:50,CON:55,SIZ:60,DEX:40,POW:70,EDU:65,INT:60,SAN:30,LUCK:50,HP:11,MP:14}},{name:"維多利亞\xb7卡曼",stats:{STR:45,CON:50,SIZ:55,DEX:55,POW:75,EDU:80,INT:85,SAN:60,LUCK:55,HP:10,MP:16}}],mythos_elements:[{name:"詭異古物",description:"拍賣的焦點之一，一個擁有召喚力量的詭異物品。"},{name:"惡靈",description:"儀式召喚出的扭曲存在，會攻擊任何入侵者。"}],additional_clues:["一張記載儀式細節的古老羊皮紙。","一個刻有奇異符號的金屬吊墜。"]}}]},9230:(e,s,t)=>{"use strict";t.d(s,{w:()=>a});let r="http://13.210.70.201:3001",a={async findAll(){let e=localStorage.getItem("token"),s=await fetch(`${r}/rooms`,{headers:{Authorization:`Bearer ${e}`}});if(!s.ok)throw Error("Failed to fetch rooms");return s.json()},async findOne(e){let s=localStorage.getItem("token"),t=await fetch(`${r}/rooms/${e}`,{headers:{Authorization:`Bearer ${s}`}});if(!t.ok)throw Error("Failed to fetch room");return t.json()},async join(e){let s=localStorage.getItem("token");if(!(await fetch(`${r}/rooms/${e}/join`,{method:"POST",headers:{Authorization:`Bearer ${s}`}})).ok)throw Error("Failed to join room")},async leave(e){let s=localStorage.getItem("token");if(!(await fetch(`${r}/rooms/${e}/leave`,{method:"POST",headers:{Authorization:`Bearer ${s}`}})).ok)throw Error("Failed to leave room")},async create(e){let s=localStorage.getItem("token"),t=await fetch(`${r}/rooms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create room");return t.json()},async startGame(e){let s=localStorage.getItem("token"),t=await fetch(`${r}/rooms/${e}/start`,{method:"POST",headers:{Authorization:`Bearer ${s}`}});if(!t.ok)throw Error("Failed to start game");return t.json()},async selectCharacter(e,s){let t=localStorage.getItem("token"),a=await fetch(`${r}/rooms/${e}/select-character`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({characterId:s})});if(!a.ok)throw Error("Failed to select character");return a.json()}}},2277:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/scripts/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/joe.lai/Desktop/projects/test/trpg/frontend/src/app/(authenticated)/scripts/[id]/page.tsx","default")},7553:(e,s,t)=>{"use strict";t.d(s,{G$:()=>H,Hs:()=>N,UC:()=>es,VY:()=>er,ZL:()=>Q,bL:()=>V,bm:()=>ea,hE:()=>et,hJ:()=>ee,l9:()=>Y});var r=t(8009),a=t(1412),i=t(9952),n=t(6004),o=t(96),l=t(3024),d=t(1675),c=t(2534),m=t(707),p=t(8060),u=t(830),h=t(9632),x=t(7783),f=t(2421),j=t(2705),g=t(5512),b="Dialog",[y,N]=(0,n.A)(b),[v,C]=y(b),w=e=>{let{__scopeDialog:s,children:t,open:a,defaultOpen:i,onOpenChange:n,modal:d=!0}=e,c=r.useRef(null),m=r.useRef(null),[p=!1,u]=(0,l.i)({prop:a,defaultProp:i,onChange:n});return(0,g.jsx)(v,{scope:s,triggerRef:c,contentRef:m,contentId:(0,o.B)(),titleId:(0,o.B)(),descriptionId:(0,o.B)(),open:p,onOpenChange:u,onOpenToggle:r.useCallback(()=>u(e=>!e),[u]),modal:d,children:t})};w.displayName=b;var k="DialogTrigger",R=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,n=C(k,t),o=(0,i.s)(s,n.triggerRef);return(0,g.jsx)(u.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":q(n.open),...r,ref:o,onClick:(0,a.m)(e.onClick,n.onOpenToggle)})});R.displayName=k;var P="DialogPortal",[D,S]=y(P,{forceMount:void 0}),_=e=>{let{__scopeDialog:s,forceMount:t,children:a,container:i}=e,n=C(P,s);return(0,g.jsx)(D,{scope:s,forceMount:t,children:r.Children.map(a,e=>(0,g.jsx)(p.C,{present:t||n.open,children:(0,g.jsx)(m.Z,{asChild:!0,container:i,children:e})}))})};_.displayName=P;var E="DialogOverlay",I=r.forwardRef((e,s)=>{let t=S(E,e.__scopeDialog),{forceMount:r=t.forceMount,...a}=e,i=C(E,e.__scopeDialog);return i.modal?(0,g.jsx)(p.C,{present:r||i.open,children:(0,g.jsx)(O,{...a,ref:s})}):null});I.displayName=E;var O=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,a=C(E,t);return(0,g.jsx)(x.A,{as:j.DX,allowPinchZoom:!0,shards:[a.contentRef],children:(0,g.jsx)(u.sG.div,{"data-state":q(a.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),A="DialogContent",$=r.forwardRef((e,s)=>{let t=S(A,e.__scopeDialog),{forceMount:r=t.forceMount,...a}=e,i=C(A,e.__scopeDialog);return(0,g.jsx)(p.C,{present:r||i.open,children:i.modal?(0,g.jsx)(Z,{...a,ref:s}):(0,g.jsx)(B,{...a,ref:s})})});$.displayName=A;var Z=r.forwardRef((e,s)=>{let t=C(A,e.__scopeDialog),n=r.useRef(null),o=(0,i.s)(s,t.contentRef,n);return r.useEffect(()=>{let e=n.current;if(e)return(0,f.Eq)(e)},[]),(0,g.jsx)(T,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.m)(e.onPointerDownOutside,e=>{let s=e.detail.originalEvent,t=0===s.button&&!0===s.ctrlKey;(2===s.button||t)&&e.preventDefault()}),onFocusOutside:(0,a.m)(e.onFocusOutside,e=>e.preventDefault())})}),B=r.forwardRef((e,s)=>{let t=C(A,e.__scopeDialog),a=r.useRef(!1),i=r.useRef(!1);return(0,g.jsx)(T,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(a.current||t.triggerRef.current?.focus(),s.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(a.current=!0,"pointerdown"!==s.detail.originalEvent.type||(i.current=!0));let r=s.target;t.triggerRef.current?.contains(r)&&s.preventDefault(),"focusin"===s.detail.originalEvent.type&&i.current&&s.preventDefault()}})}),T=r.forwardRef((e,s)=>{let{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,...l}=e,m=C(A,t),p=r.useRef(null),u=(0,i.s)(s,p);return(0,h.Oh)(),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o,children:(0,g.jsx)(d.qW,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":q(m.open),...l,ref:u,onDismiss:()=>m.onOpenChange(!1)})}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(X,{titleId:m.titleId}),(0,g.jsx)(J,{contentRef:p,descriptionId:m.descriptionId})]})]})}),F="DialogTitle",M=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,a=C(F,t);return(0,g.jsx)(u.sG.h2,{id:a.titleId,...r,ref:s})});M.displayName=F;var U="DialogDescription",W=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,a=C(U,t);return(0,g.jsx)(u.sG.p,{id:a.descriptionId,...r,ref:s})});W.displayName=U;var z="DialogClose",G=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,i=C(z,t);return(0,g.jsx)(u.sG.button,{type:"button",...r,ref:s,onClick:(0,a.m)(e.onClick,()=>i.onOpenChange(!1))})});function q(e){return e?"open":"closed"}G.displayName=z;var L="DialogTitleWarning",[H,K]=(0,n.q)(L,{contentName:A,titleName:F,docsSlug:"dialog"}),X=({titleId:e})=>{let s=K(L),t=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return r.useEffect(()=>{e&&!document.getElementById(e)&&console.error(t)},[t,e]),null},J=({contentRef:e,descriptionId:s})=>{let t=K("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return r.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");s&&t&&!document.getElementById(s)&&console.warn(a)},[a,e,s]),null},V=w,Y=R,Q=_,ee=I,es=$,et=M,er=W,ea=G}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,22,77,581,648,541],()=>t(8285));module.exports=r})();